# ZFS Backup Script Konfiguration
# zfs-backup2-skript.conf

# =============================================================================
# PFLICHTPARAMETER
# =============================================================================

# Kommagetrennte Liste der zu sichernden ZFS-Datasets
# Keine Leerzeichen zwischen den Einträgen!
DATASETS=rpool/data01,rpool/data02,rpool/vms

# Kommagetrennte Liste der erlaubten Backup-Festplatten-IDs
# Unterstützt werden: WWN, ATA-Serial, oder andere eindeutige Identifikatoren
# Beispiele:
# - WWN: 0x5000c500a1b2c3d4
# - Serial: WD-ABCD1234567890
BACKUP_DISK_IDS=0x5000c500a1b2c3d4,WD-ABCD1234567890

# Name des ZFS-Backup-Pools auf der externen Festplatte
BACKUP_POOL=backup

# =============================================================================
# OPTIONALE PARAMETER
# =============================================================================

# Minimaler freier Speicherplatz in GB vor Backup-Start
# Das Skript bricht ab, wenn weniger Speicher verfügbar ist
MIN_FREE_SPACE_GB=10

# Vollständiges Backup durchführen, wenn kein gemeinsamer Snapshot existiert
# true = Vollbackup wird durchgeführt
# false = Skript überspringt Dataset mit Warnung
FULL_BACKUP_ON_NO_COMMON=false

# System-Update nach erfolgreichem Backup durchführen
# true = apt update && apt dist-upgrade -y wird ausgeführt
# false = Kein System-Update
SYSTEM_UPDATE_ENABLED=false

# =============================================================================
# CHECKMK INTEGRATION
# =============================================================================

# CheckMK Piggyback-Dateien erstellen
# true = Piggyback-Dateien werden geschrieben
# false = Keine CheckMK Integration
CHECKMK_ENABLED=true

# Verzeichnis für CheckMK Piggyback-Dateien
# Standard: /var/spool/check_mk_agent/piggyback
CHECKMK_PIGGYBACK_DIR=/var/spool/check_mk_agent/piggyback

# =============================================================================
# ERWEITERTE EINSTELLUNGEN
# =============================================================================

# Prefix für zu verwendende Snapshots (Standard: zfs-auto-snap_daily)
# Diese Einstellung sollte normalerweise nicht geändert werden
SNAPSHOT_PREFIX=zfs-auto-snap_daily

# Maximales Alter eines Lockfiles in Sekunden bevor es als verwaist gilt
# Standard: 3600 (1 Stunde)
MAX_LOCK_AGE=3600
