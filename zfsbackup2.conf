# Configuration file for ZFSBackup2
# Path: /etc/zfsbackup2/zfsbackup2.conf

# ==================== BASIC CONFIGURATION ====================

# Datasets to backup (comma-separated list)
# Format: pool/dataset,pool/another_dataset
DATASETS=""

# Target pool name on external drive
TARGET_POOL="backuppool"

# ==================== DISK CONFIGURATION ====================

# Allowed external disk IDs (comma-separated list)
# Use WWN or Serial numbers from lsblk -o name,serial,wwn
# Example: ALLOWED_DISK_IDS="0x5000c500c128d767,WXYZ1A2B3C"
ALLOWED_DISK_IDS=""

# ==================== BACKUP PARAMETERS ====================

# Maximum usage percentage of target pool (0-100)
# Backup will abort if target pool usage exceeds this value
MAX_USAGE=80

# Maximum number of retries for failed backups
MAX_RETRIES=1

# Snapshot types to use for backups (comma-separated list)
# Only weekly and monthly are recommended
# Options: weekly,monthly
SNAPSHOT_TYPES="weekly,monthly"

# ==================== FILE PATHS ====================

# Log directory and file
LOG_DIR="/var/log/zfsbackup2"
LOG_FILE="${LOG_DIR}/zfsbackup2.log"

# Lock file path
LOCK_FILE="/var/run/zfsbackup2.lock"

# CheckMK integration
CHECKMK_DIR="/var/lib/check_mk_agent/spool"
CHECKMK_FILE="${CHECKMK_DIR}/zfsbackup2_status"
